/**
* Bootstrap.js 2.2.2 by @fat & @mdo
* plugins: bootstrap-dropdown.js, bootstrap-tab.js, bootstrap-collapse.js, bootstrap-carousel.js
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(f){var b="[data-toggle=dropdown]",a=function(h){var g=f(h).on("click.dropdown.data-api",this.toggle);f("html").on("click.dropdown.data-api",function(){g.parent().removeClass("open")})};a.prototype={constructor:a,toggle:function(j){var i=f(this),h,g;if(i.is(".disabled, :disabled")){return}h=e(i);g=h.hasClass("open");d();if(!g){h.toggleClass("open")}i.focus();return false},keydown:function(l){var k,m,g,j,i,h;if(!/(38|40|27)/.test(l.keyCode)){return}k=f(this);l.preventDefault();l.stopPropagation();if(k.is(".disabled, :disabled")){return}j=e(k);i=j.hasClass("open");if(!i||(i&&l.keyCode==27)){return k.click()}m=f("[role=menu] li:not(.divider):visible a",j);if(!m.length){return}h=m.index(m.filter(":focus"));if(l.keyCode==38&&h>0){h--}if(l.keyCode==40&&h<m.length-1){h++}if(!~h){h=0}m.eq(h).focus()}};function d(){f(b).each(function(){e(f(this)).removeClass("open")})}function e(i){var g=i.attr("data-target"),h;if(!g){g=i.attr("href");g=g&&/#/.test(g)&&g.replace(/.*(?=#[^\s]*$)/,"")}h=f(g);h.length||(h=i.parent());return h}var c=f.fn.dropdown;f.fn.dropdown=function(g){return this.each(function(){var i=f(this),h=i.data("dropdown");if(!h){i.data("dropdown",(h=new a(this)))}if(typeof g=="string"){h[g].call(i)}})};f.fn.dropdown.Constructor=a;f.fn.dropdown.noConflict=function(){f.fn.dropdown=c;return this};f(document).on("click.dropdown.data-api touchstart.dropdown.data-api",d).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(g){g.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(g){g.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",b,a.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",b+", [role=menu]",a.prototype.keydown)}(window.jQuery);!function(c){var b=function(d){this.element=c(d)};b.prototype={constructor:b,show:function(){var j=this.element,g=j.closest("ul:not(.dropdown-menu)"),f=j.attr("data-target"),h,d,i;if(!f){f=j.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}if(j.parent("li").hasClass("active")){return}h=g.find(".active:last a")[0];i=c.Event("show",{relatedTarget:h});j.trigger(i);if(i.isDefaultPrevented()){return}d=c(f);this.activate(j.parent("li"),g);this.activate(d,d.parent(),function(){j.trigger({type:"shown",relatedTarget:h})})},activate:function(f,e,i){var d=e.find("> .active"),h=i&&c.support.transition&&d.hasClass("fade");function g(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");f.addClass("active");if(h){f[0].offsetWidth;f.addClass("in")}else{f.removeClass("fade")}if(f.parent(".dropdown-menu")){f.closest("li.dropdown").addClass("active")}i&&i()}h?d.one(c.support.transition.end,g):g();d.removeClass("in")}};var a=c.fn.tab;c.fn.tab=function(d){return this.each(function(){var f=c(this),e=f.data("tab");if(!e){f.data("tab",(e=new b(this)))}if(typeof d=="string"){e[d]()}})};c.fn.tab.Constructor=b;c.fn.tab.noConflict=function(){c.fn.tab=a;return this};c(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(d){d.preventDefault();c(this).tab("show")})}(window.jQuery);!function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},b.fn.collapse.defaults,d);if(this.options.parent){this.$parent=b(this.options.parent)}this.options.toggle&&this.toggle()};c.prototype={constructor:c,dimension:function(){var d=this.$element.hasClass("width");return d?"width":"height"},show:function(){var g,d,f,e;if(this.transitioning){return}g=this.dimension();d=b.camelCase(["scroll",g].join("-"));f=this.$parent&&this.$parent.find("> .accordion-group > .in");if(f&&f.length){e=f.data("collapse");if(e&&e.transitioning){return}f.collapse("hide");e||f.data("collapse",null)}this.$element[g](0);this.transition("addClass",b.Event("show"),"shown");b.support.transition&&this.$element[g](this.$element[0][d])},hide:function(){var d;if(this.transitioning){return}d=this.dimension();this.reset(this.$element[d]());this.transition("removeClass",b.Event("hide"),"hidden");this.$element[d](0)},reset:function(d){var e=this.dimension();this.$element.removeClass("collapse")[e](d||"auto")[0].offsetWidth;this.$element[d!==null?"addClass":"removeClass"]("collapse");return this},transition:function(h,e,f){var g=this,d=function(){if(e.type=="show"){g.reset()}g.transitioning=0;g.$element.trigger(f)};this.$element.trigger(e);if(e.isDefaultPrevented()){return}this.transitioning=1;this.$element[h]("in");b.support.transition&&this.$element.hasClass("collapse")?this.$element.one(b.support.transition.end,d):d()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var a=b.fn.collapse;b.fn.collapse=function(d){return this.each(function(){var g=b(this),f=g.data("collapse"),e=typeof d=="object"&&d;if(!f){g.data("collapse",(f=new c(this,e)))}if(typeof d=="string"){f[d]()}})};b.fn.collapse.defaults={toggle:true};b.fn.collapse.Constructor=c;b.fn.collapse.noConflict=function(){b.fn.collapse=a;return this};b(document).on("click.collapse.data-api","[data-toggle=collapse]",function(i){var h=b(this),d,g=h.attr("data-target")||i.preventDefault()||(d=h.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=b(g).data("collapse")?"toggle":h.data();h[b(g).hasClass("in")?"addClass":"removeClass"]("collapsed");b(g).collapse(f)})}(window.jQuery);!function(b){var c=function(e,d){this.$element=b(e);this.options=d;this.options.pause=="hover"&&this.$element.on("mouseenter",b.proxy(this.pause,this)).on("mouseleave",b.proxy(this.cycle,this))};c.prototype={cycle:function(d){if(!d){this.paused=false}this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval));return this},to:function(h){var d=this.$element.find(".item.active"),e=d.parent().children(),f=e.index(d),g=this;if(h>(e.length-1)||h<0){return}if(this.sliding){return this.$element.one("slid",function(){g.to(h)})}if(f==h){return this.pause().cycle()}return this.slide(h>f?"next":"prev",b(e[h]))},pause:function(d){if(!d){this.paused=true}if(this.$element.find(".next, .prev").length&&b.support.transition.end){this.$element.trigger(b.support.transition.end);this.cycle()}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(k,f){var m=this.$element.find(".item.active"),d=f||m[k](),j=this.interval,l=k=="next"?"left":"right",g=k=="next"?"first":"last",h=this,i;this.sliding=true;j&&this.pause();d=d.length?d:this.$element.find(".item")[g]();i=b.Event("slide",{relatedTarget:d[0]});if(d.hasClass("active")){return}if(b.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(i);if(i.isDefaultPrevented()){return}d.addClass(k);d[0].offsetWidth;m.addClass(l);d.addClass(l);this.$element.one(b.support.transition.end,function(){d.removeClass([k,l].join(" ")).addClass("active");m.removeClass(["active",l].join(" "));h.sliding=false;setTimeout(function(){h.$element.trigger("slid")},0)})}else{this.$element.trigger(i);if(i.isDefaultPrevented()){return}m.removeClass("active");d.addClass("active");this.sliding=false;this.$element.trigger("slid")}j&&this.cycle();return this}};var a=b.fn.carousel;b.fn.carousel=function(d){return this.each(function(){var h=b(this),g=h.data("carousel"),e=b.extend({},b.fn.carousel.defaults,typeof d=="object"&&d),f=typeof d=="string"?d:e.slide;if(!g){h.data("carousel",(g=new c(this,e)))}if(typeof d=="number"){g.to(d)}else{if(f){g[f]()}else{if(e.interval){g.cycle()}}}})};b.fn.carousel.defaults={interval:5000,pause:"hover"};b.fn.carousel.Constructor=c;b.fn.carousel.noConflict=function(){b.fn.carousel=a;return this};b(document).on("click.carousel.data-api","[data-slide]",function(i){var h=b(this),f,d=b(h.attr("data-target")||(f=h.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")),g=b.extend({},d.data(),h.data());d.carousel(g);i.preventDefault()})}(window.jQuery);
/*!
 * UBC CLF v7.0.2 Javascript
 * Copyright 2012 The University of British Columbia
 * Contact:     UBC Communications and Marketing
 *              t: 604.822.2130
 *              e: web.admin@ubc.ca
 *              w: www.webcommunications.ubc.ca
 */
(function(b){b(document).ready(function(){a.on_ready();b.getJSON("https://cdn.ubc.ca/clf/globalutility/index.php?jsoncallback=?",function(c){b("#ubc7-footer-menu").html(c.html.footer);b("#ubc7-global-header").html(c.html.header)})});var a={on_ready:function(){a.unit_name_resize.dynamic_width();a.unit_name_resize.dynamic_height()},unit_name_resize:{min_unit_bar_height:50,line_height:17,dynamic_width:function(){if(b("#ubc7-unit-identifier").hasClass("shorten")&&(b("#ubc7-unit-name").width()>b("#ubc7-unit-identifier").width())){if(b("#ubc7-unit-identifier").hasClass("shorten-more")){b("#ubc7-unit-identifier").removeClass("shorten-more")}else{b("#ubc7-unit-identifier").removeClass("shorten")}}if(b("#ubc7-unit-name").width()<=b("#ubc7-unit-identifier").width()){b("#ubc7-unit-identifier").addClass("shorten");if((b("#ubc7-unit-identifier").hasClass("shorten"))&&(b("#ubc7-unit-name").width()<=b("#ubc7-unit-identifier").width())){b("#ubc7-unit-identifier").addClass("shorten-more")}}},dynamic_height:function(){if(b("#ubc7-unit .span12").height()<b("#ubc7-unit").height()){b("#ubc7-unit").css("height","-="+a.unit_name_resize.line_height);if(b("#ubc7-unit").height()<=a.unit_name_resize.min_unit_bar_height){b("#ubc7-unit").css("height","")}b("#ubc7-unit-identifier").removeClass("multi-rows");b(".ubc7-single-element a").css("margin-top","")}if(b("#ubc7-unit").height()<b("#ubc7-unit .span12").height()){while(b("#ubc7-unit").height()<b("#ubc7-unit-name").height()){b("#ubc7-unit").css("height","+="+a.unit_name_resize.line_height)}b("#ubc7-unit-identifier").addClass("multi-rows");b(".ubc7-single-element a").css("margin-top","8px")}}}};b(window).resize(function(){a.on_ready()});b(".ubc7-back-to-top a").click(function(){b("body").animate({scrollTop:0})});b("#ubc7-global-menu").on({shown:function(){b("#ubc7-global-utility button span").addClass("opened")},hidden:function(){b("#ubc7-global-utility button span").removeClass("opened")},resize:function(){if(b(this).height()>0){b("#ubc7-global-utility button span").addClass("opened")}else{b("#ubc7-global-utility button span").removeClass("opened")}}});b(".sidenav .accordion-body").on({shown:function(){if(b(this).hasClass("in")){var c=b(this).closest(".accordion-group");c.find(".accordion-heading").first().addClass("opened");b(this).find(".in").closest(".accordion-group").find(".accordion-heading").first().addClass("opened")}},hidden:function(){if(!b(this).hasClass("in")){target_group=b(this).closest(".accordion-group");target_group.find(".accordion-heading").removeClass("opened")}}})})(jQuery);
/*!
 * UBC CLF v7.0.1 Carousel
 * Copyright 2012 The University of British Columbia
 */
(function($){$.fn.ubc_spotlight=function(settings){settings=$.extend({},$.fn.ubc_spotlight.default_settings,settings||{});return this.each(function(){var $this=$(this)
var $settings=jQuery.extend(true,{},settings);$this.carousel($settings);var prev=$('.ubc7-carousel-control.left',$this);var next=$('.ubc7-carousel-control.right',$this);var pause=$('.ubc7-carousel-control.pause',$this);var playing=true;var total_size=$this.find(".item").length;var counter=$('.ubc7-carousel-counter',$this);counter.html("1 / "+total_size.toString());$this.on("slid",function(){var current_slide=$this.find(".active").index("#"+$this.attr("id")+" .item")+1;counter.html(current_slide.toString()+" / "+total_size.toString());});prev.click(function(){$this.carousel('prev');});next.click(function(){$this.carousel('next');});pause.click(function(){$this.carousel('pause');if(playing===true){$this.carousel('pause');pause.addClass("ubc7-carousel-play");playing=false;}else{$this.carousel('cycle');pause.removeClass("ubc7-carousel-play");playing=true;}});});};$.fn.ubc_spotlight.default_settings={interval:8000,pause:'cycle'};})(window.jQuery);